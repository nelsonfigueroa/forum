<div class="container">
  <h1 class="display-4"><%= @post.sub.name %></h1>
  <p class="lead"><%= @post.sub.description %></p>

  <div class="card">
    <div class="card-body">
      <h3 class="card-title"><%= @post.title %></h3>
      <p class="card-subtitle mb-2 text-muted"><%= @post.user.username %></p>
      <p class="card-text"><%= @post.content %></p>
    </div>
  </div>

  <% if user_signed_in? %>
    <% if current_user.upvotes.where(:post_id => @post.id).exists? %>
      <button type="button" class="btn btn-primary" disabled>Upvoted! This should allow for un-upvoting next.</button>
    <% else %>
      <%= form_for Upvote.new do |f| %>
        <%= f.hidden_field :user_id, :value => current_user.id %>
        <%= f.hidden_field :post_id, :value => @post.id %>
        <%= f.submit "Upvote", class: 'btn btn-primary' %>
      <% end %>
    <% end %>
  <% else %>
    <button type="button" class="btn btn-primary" disabled>Log in to upvote!</button>
  <% end %>

  <p>And then comments will go here!</p>
</div>

</div>